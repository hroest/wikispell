WikiSpell
--------

This package provides a library and a set of scripts designed to spellcheck
pages on Wikipedia. It uses the pywikibot project to interface with Mediawiki
projects.

Install
-----

## Dependecies

Part of these scripts rely on libhunspell and pyhunspell. To install on an
Ubuntu system, first install libhunspell

        sudo apt-get install libhunspell-dev

Download the Python bindings from https://pypi.python.org/pypi/hunspell and install with

        sudo python setup.py install

Then you need to install the dictionaries in your language:

        sudo apt-get install hunspell-en-us
        sudo apt-get install hunspell-de-de-frami
        sudo apt-get install hunspell-de-ch-frami

Secondly, install the pywikibot

git clone https://github.com/wikimedia/pywikibot-compat.git

and add it to your PYTHONPATH

## Install this software

Simply clone it from github and run the scripts (make sure that pywikibot and
pyhunspell are installed and in your PYTHONPATH).

Usage
-----

## Spellchecking

This script uses the popular hunspell spellchecker to check the spelling of one
or more Wikipedia pages. This identifies each word and runs it agains the
hunspell spellchecker, reporting misspelled words (or unknown words).

        spellcheck_hunspell.py Title

Note that you need to install libhunspell as well as pyhunspell.

You can use -dictionary: to pass the location of a hunspell dictionary.

Also, it helps if you supply a set of common words with the `-common_words:`
flag, which is a text file containing one word per line that should not be
considered incorrect. One good start for such a list of words is the
https://github.com/hroest/spellcheck-data repository which contains spellcheck
files for German and English. It works well to exclude words here that occur at
least n times in the Wikipedia, those that occur in the title of articles (in
multiple languages). Also, additional wordlists can be added.

## Wordlist

It is often more convenient to work with known false words than trying to
spellcheck all of Wikipedia. This is the idea behind the second approach which
lets you check individual words or a list of words against Wikipedia.

You can replace a single word in all of Wikipedia page

    python spellcheck_wordlist.py -searchWiki -singleword:"DÃ¶lli;test"

Or you can replace it only on a single page

    python spellcheck_wordlist.py Uttwil -singleword:"goldschmied;test"

If you have a given list of (known false) words, you can check them against Wikipedia

    python spellcheck_wordlist.py -blacklist:blacklist.dic -searchWiki
    python spellcheck_wordlist.py -blacklist:blacklist.dic -recentchanges
    python spellcheck_wordlist.py -blacklistpage:User:HRoestTypo/replacedDerivatives -cat:Schweiz
    python spellcheck_wordlist.py -blacklistpage:User:HRoestTypo/replacedDerivatives -searchWiki
    python spellcheck_wordlist.py -blacklistpage:User:HRoestTypo/replaced -searchWiki

Where the words can also be derived from a Wikipedia page themselves.

If you have a Wikipedia page with a set of false words and associated pages
(e.g. if you already found the words and pages), you use this script to
interactively replace them:

    python spellcheck_wordlist.py -typopage:User:HRoestTypo/ExamplePage
    python spellcheck_wordlist.py -typofile:alocalfile.txt

These typopages can be generated by using -non-interactive and -pageStore.

Using an XML file is also possible (instead of the online version)

    python spellcheck_wordlist.py -xmlfile:/path/to/dewiki-latest-pages-articles.xml.bz2 -singleword:"und;test" -batchNr:10

## Wordfrequency

Given a database with words and their frequencies in Wikipedia, the following
script will iterate through the most common words and for each common word
identify similar words that occur with very low frequency and are thus likely
misspellings of the more common word. The low frequency words are then searched
in Wikipedia and replaced with the correct word.

        python spellcheck_wordfrequency.py  --db wikiwords.countedwords_20161020

This will read the MySQL database `wikiwords.countedwords_20161020` and use the
stored word frequencies in it.

